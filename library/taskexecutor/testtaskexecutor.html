<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>test task executor</title>
    <script src="../../jquery/jquery-1.11.1.js"></script>
    <script src="taskexecutor.js" type="text/javascript"></script>
</head>
<body>
    <input id="begin" type="button" value="begin" />
    <input id="pause" type="button" value="pause" />
    <input id="resume" type="button" value="resume" />
    <input id="stop" type="button" value="stop" />
    <script>
        var executor = window.taskExecutor.create({
            interval: 5000
        });

        $('#begin').click(function () {
            executor.begin(0, function (value, next) {
                console.log('current task, value: ' + value);

                setTimeout(function () {
                    console.log('next task, value: ' + (value + 1));
                    next(value + 1);
                }, 5000);
            });
        });

        $('#pause').click(function () {
            executor.pause();
        });

        $('#resume').click(function () {
            executor.resume();
        });

        $('#stop').click(function () {
            executor.stop();
        });
    </script>
</body>
</html>
