<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>test related select</title>
    <script src="../../jquery/jquery-1.11.1.js" type="text/javascript"></script>
    <script src="../../underscore/underscore-1.6.0.js" type="text/javascript"></script>
    <script src="../../library/pluginmanager/pluginmanager.js" type="text/javascript"></script>
    <script src="../bindtemplate/bindtemplate_config.js" type="text/javascript"></script>
    <script src="../bindtemplate/bindtemplate_get.js" type="text/javascript"></script>
    <script src="relatedselect.js" type="text/javascript"></script>
    <script src="relatedselect_config.js" type="text/javascript"></script>
    <style>
        #hiddenField
        {
            display: none;
        }
    </style>
</head>
<body>
    <div id="hiddenField">
        <span data-model="[0]">{"Data":null,"Nodes":[{"Data":{"Value":"1","Text":"1"},"Nodes":[{"Data":{"Value":"1.1","Text":"1.1"},"Nodes":[{"Data":{"Value":"1.1.1","Text":"1.1.1"},"Nodes":null},{"Data":{"Value":"1.1.2","Text":"1.1.2"},"Nodes":null}]},{"Data":{"Value":"1.2","Text":"1.2"},"Nodes":[{"Data":{"Value":"1.2.1","Text":"1.2.1"},"Nodes":null},{"Data":{"Value":"1.2.2","Text":"1.2.2"},"Nodes":null}]}]},{"Data":{"Value":"2","Text":"2"},"Nodes":[{"Data":{"Value":"2.1","Text":"2.1"},"Nodes":[{"Data":{"Value":"2.1.1","Text":"2.1.1"},"Nodes":null},{"Data":{"Value":"2.1.2","Text":"2.1.2"},"Nodes":null}]},{"Data":{"Value":"2.2","Text":"2.2"},"Nodes":[{"Data":{"Value":"2.2.1","Text":"2.2.1"},"Nodes":null},{"Data":{"Value":"2.2.2","Text":"2.2.2"},"Nodes":null}]}]}]}</span>
    </div>
    <div>
        <select id="select1">
        </select>
        <select id="select2">
        </select>
        <select id="select3">
        </select>
    </div>
    <script>
        $(function () {
            var json = $('#hiddenField').bindTemplate('getData'),
                data = eval('(' + json[0] + ')');

            $().relatedSelect('init', {
                data: data,
                selects: [
                    $('#select3'),
                    $('#select2'),
                    $('#select1')
                ]
            });
        });
    </script>
</body>
</html>
