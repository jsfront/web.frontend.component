<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>test related select</title>
    <script src="../../jquery/jquery-1.11.1.js" type="text/javascript"></script>
    <script src="../../underscore/underscore-1.6.0.js" type="text/javascript"></script>
    <script src="../../library/pluginmanager/pluginmanager.js" type="text/javascript"></script>
    <script src="../bindtemplate/bindtemplate_get.js" type="text/javascript"></script>
    <script src="../bindtemplate/bindtemplate_set.js" type="text/javascript"></script>
    <script src="../bindtemplate/bindtemplate_config.js" type="text/javascript"></script>
    <script src="relatedselect.js" type="text/javascript"></script>
    <script src="relatedselect_config.js" type="text/javascript"></script>
    <style>
        #hiddenField
        {
            display: none;
        }
    </style>
</head>
<body>
    <div id="hiddenField">
        <span data-model="[0]">{"Data":null,"Nodes":[{"Data":{"ID":0,"Name":"安徽"},"Nodes":[{"Data":{"ID":1,"Name":"安庆市"},"Nodes":null},{"Data":{"ID":2,"Name":"蚌埠市"},"Nodes":null}]},{"Data":{"ID":3,"Name":"福建"},"Nodes":[{"Data":{"ID":4,"Name":"巢湖市"},"Nodes":null},{"Data":{"ID":5,"Name":"池州市"},"Nodes":null}]}]}</span>
    </div>
    <div>
        <select id="select1">
        </select>
        <select id="select2">
        </select>
    </div>
    <script>
        $(function () {
            var json = $('#hiddenField').bindTemplate('getData'),
                data = eval('(' + json[0] + ')');

            $().relatedSelect('init', {
                primary: $('#select2'),
                related: $('#select1'),
                data: data
            });
        });
    </script>
</body>
</html>
